# 农业大数据平台Kafka和WebSocket配置

# Spark配置
spark {
  master = "spark://shiguang:7077"
  "batch-interval" = 5   # 批处理间隔（秒）
  "app-name" = "AgricultureSensorProcessor"
  streaming {
    "batch-duration" = 5
  }
  kryo {
    enabled = true
    "buffer-max-mb" = 64
  }
  ui {
    port = 4040
    enabled = true
  }
}

# Kafka配置
kafka {
  "bootstrap-servers" = "shiguang:9092"
  topic = "agriculture_sensors"
  "group-id" = "agriculture_sensor_group"
}

# WebSocket配置
websocket {
  host = "0.0.0.0"
  port = 8085
  path = "/ws/sensors"
}

# 数据库配置
database {
  driver = "com.mysql.cj.jdbc.Driver"
  url = "jdbc:mysql://shiguang:3306/agri_big_data?useSSL=false&serverTimezone=Asia/Shanghai"
  user = "root"
  password = "082415"
}

# 异常阈值配置
threshold {
  temperature {
    max = 40.0
    min = 0.0
  }
  humidity {
    max = 100.0
    min = 0.0
  }
  "soil-moisture" {
    max = 100.0
    min = 0.0
  }
}

# 日志配置
logging {
  level {
    root = "WARN"
    "org.shiguang" = "INFO"
    "org.apache.spark" = "WARN"
    "org.apache.kafka" = "WARN"
  }
} 